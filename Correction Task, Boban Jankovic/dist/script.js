"use strict";$(document).ready(function(){var selectOption=$("#header-selectId"),dropDown=$("#option-selectId"),singleItem=$(".single-item"),button=$(".hamburger"),headerList=$(".header-list"),headerContact=$(".header-contact"),index=0;function followLength(){dropDown.css("width",selectOption.width())}function appendPhoneNumber(){$(window).width()<481?($(dropDown).prepend(headerContact),$(".sprite-icons-flag").appendTo(".header-contact")):($(".sprite-icons-flag").appendTo(".header-row"),$(headerContact).insertBefore(".hamburger"))}function showSlidesBackgrounds(slides){$(".column-background").css("background-image","url("+slides[index].path+")"),$(".column-background-second").css("background-image","url("+slides[index].path2+")")}fetch("../data.json").then(function(response){return response.json()}).then(function(json){var arrObj=Object.keys(json).map(function(key){return json[key]});!function(data){showSlidesBackgrounds(data),$(".single-item").on("beforeChange",function(event,slick,currentSlide,nextSlide){index=nextSlide,showSlidesBackgrounds(data)})}(arrObj),function(arr){for(var i=0;i<arr.length;i++){var description=$('<p class="slider-paragraph"></p>').text(arr[i].description),tittle=$('<h1 class="slider-heading"></h1>').text(arr[i].tittle),btn=$('<button class="slider-button"></button>').text(arr[i].btnText),container=$('<div class="slides"></div>');container.append(tittle,description,btn),singleItem.slick("slickAdd",container)}}(arrObj)}).then(function(json){$(".slider-heading").html(function(index,curHTML){var text=curHTML.split(/[\s-]/),newtext='<span class="heading-red">'+text.pop()+"</span>";return text.join(" ").concat(" "+newtext)})}).catch(function(error){return alert(error+". Please run on local-host server")}),$(window).resize(function(){followLength(),appendPhoneNumber(),$(".business-background").css("height",$(".business-section").height()),$(".arrow-select").css("height",$("#header-selectId").height())}),selectOption.hover(function(){$("#google-map").toggleClass("toggle-z-index"),dropDown.toggle(),followLength()}),button.click(function(){button.toggleClass("active"),headerList.toggleClass("toggleList")}),appendPhoneNumber(),$(".single-item").slick({arrows:!1,dots:!0,infinite:!0,speed:300,slidesToShow:1,adaptiveHeight:!0}),$(".tab").hide(),$("ul.tabs li").click(function(){$(".tab").hide(),$($(".tab")[$(this).index()]).show()}).first().trigger("click"),$("input").iCheck({checkboxClass:"icheckbox_flat-grey",radioClass:"iradio_flat-grey"}),$.ajax({url:"store.csv",dataType:"text",success:function(data){for(var store_data=data.split(/\r?\n|\r/),table_data='<table class="table table-bordered table-striped">',count=0;count<store_data.length;count++){var cell_data=store_data[count].split(",");table_data+="<tr>";for(var cell_count=0;cell_count<cell_data.length;cell_count++)0===count?table_data+="<th>"+cell_data[cell_count]+"</th>":"Srbija"===cell_data[cell_count]?table_data+='<td class="country" data-country="Srbija">'+cell_data[cell_count]+"</td>":"Nemacka"===cell_data[cell_count]?table_data+='<td class="country" data-country="Nemacka">'+cell_data[cell_count]+"</td>":"Fransiza"===cell_data[cell_count]?table_data+='<td class="market" data-selling="Fransiza">'+cell_data[cell_count]+"</td>":"Veleprodaja"===cell_data[cell_count]?table_data+='<td class="market" data-selling="Veleprodaja">'+cell_data[cell_count]+"</td>":"Maloprodaja"===cell_data[cell_count]?table_data+='<td class="market" data-selling="Maloprodaja">'+cell_data[cell_count]+"</td>":table_data+="<td>"+cell_data[cell_count]+"</td>";table_data+="</tr>"}table_data+="</table>",$("#store_table").html(table_data)}});var switcherSerbia=!1,switcherGermany=!1,switcherFranchise=!1,switcherWholesale=!1,switcherRetail=!1;$(".option-buttons").click(function(){!function(currentButtonValue){"Srbija"===currentButtonValue?(switcherSerbia=!switcherSerbia,$("#button-serbia").toggleClass("activeOption")):"Nemacka"===currentButtonValue?(switcherGermany=!switcherGermany,$("#button-germany").toggleClass("activeOption")):"Fransiza"===currentButtonValue?(switcherFranchise=!switcherFranchise,$("#button-franchise").toggleClass("activeOption")):"Veleprodaja"===currentButtonValue?(switcherWholesale=!switcherWholesale,$("#button-wholesale").toggleClass("activeOption")):"Maloprodaja"===currentButtonValue&&(switcherRetail=!switcherRetail,$("#button-retail").toggleClass("activeOption"))}($(this).val()),function(){$("table tbody").find("tr:gt(0)").hide();var countryFlagSerbia=0,countryValueSerbia=switcherSerbia?"Srbija":0,countryFlagGermany=0,countryValueGermany=switcherGermany?"Nemacka":0,marketFlagFranchise=0,marketValueFranchise=switcherFranchise?"Fransiza":0,marketFlagWholesale=0,marketValueWholesale=switcherWholesale?"Veleprodaja":0,marketFlagRetail=0,marketValueRetail=switcherRetail?"Maloprodaja":0;$("table tr").each(function(){0<$(this).children("th").length||(countryFlagSerbia=0==countryValueSerbia?1:countryValueSerbia==$(this).find("td.country").data("country")?1:0,countryFlagGermany=0==countryValueGermany?1:countryValueGermany==$(this).find("td.country").data("country")?1:0,marketFlagFranchise=0==marketValueFranchise?1:marketValueFranchise==$(this).find("td.market").data("selling")?1:0,marketFlagWholesale=0==marketValueWholesale?1:marketValueWholesale==$(this).find("td.market").data("selling")?1:0,marketFlagRetail=0==marketValueRetail?1:marketValueRetail==$(this).find("td.market").data("selling")?1:0,(switcherGermany||switcherSerbia)&&(switcherFranchise||switcherWholesale||switcherRetail)?(switcherSerbia&&switcherFranchise&&countryFlagSerbia&&marketFlagFranchise&&$(this).show(),switcherSerbia&&switcherWholesale&&countryFlagSerbia&&marketFlagWholesale&&$(this).show(),switcherSerbia&&switcherRetail&&countryFlagSerbia&&marketFlagRetail&&$(this).show(),switcherSerbia&&switcherFranchise&&switcherWholesale?countryFlagSerbia&&(marketFlagFranchise||marketFlagWholesale)&&$(this).show():switcherSerbia&&switcherRetail&&switcherWholesale?countryFlagSerbia&&(marketFlagRetail||marketFlagWholesale)&&$(this).show():switcherSerbia&&switcherRetail&&switcherFranchise&&countryFlagSerbia&&(marketFlagRetail||marketFlagFranchise)&&$(this).show(),switcherGermany&&switcherFranchise&&countryFlagGermany&&marketFlagFranchise&&$(this).show(),switcherGermany&&switcherWholesale&&countryFlagGermany&&marketFlagWholesale&&$(this).show(),switcherGermany&&switcherRetail&&countryFlagGermany&&marketFlagRetail&&$(this).show(),switcherGermany&&switcherFranchise&&switcherWholesale?countryFlagGermany&&(marketFlagFranchise||marketFlagWholesale)&&$(this).show():switcherGermany&&switcherRetail&&switcherWholesale?countryFlagGermany&&(marketFlagRetail||marketFlagWholesale)&&$(this).show():switcherGermany&&switcherRetail&&switcherFranchise&&countryFlagGermany&&(marketFlagRetail||marketFlagFranchise)&&$(this).show()):(switcherGermany&&switcherSerbia?(countryFlagGermany||countryFlagSerbia)&&$(this).show():switcherGermany?countryFlagGermany&&$(this).show():switcherSerbia&&countryFlagSerbia&&$(this).show(),switcherFranchise&&switcherWholesale?(marketFlagFranchise||marketFlagWholesale)&&$(this).show():switcherFranchise&&switcherRetail?(marketFlagFranchise||marketFlagRetail)&&$(this).show():switcherFranchise&&marketFlagFranchise&&$(this).show(),switcherRetail&&switcherWholesale?(marketFlagRetail||marketFlagWholesale)&&$(this).show():switcherRetail?marketFlagRetail&&$(this).show():switcherWholesale&&marketFlagWholesale&&$(this).show(),countryFlagSerbia&&countryFlagGermany&&marketFlagFranchise&&marketFlagWholesale&&marketFlagRetail&&$(this).show()))})}()}),$("table tbody tr").show(),$(window).scroll(function(){50<$(window).scrollTop()?$(".about-location-map").css("z-index","0"):$(".about-location-map").css("z-index","-1")}),$(".header-link").click(function(){sessionStorage.reloadAfterPageLoad=!0}),$(function(){sessionStorage.reloadAfterPageLoad&&(sessionStorage.reloadAfterPageLoad=!1,"http://localhost:3000/index.html"===window.location.href?($(".page1").addClass("actived"),$(".page1").siblings().removeClass("actived")):"http://localhost:3000/gdekupiti.html"===window.location.href?($(".page2").addClass("actived"),$(".page2").siblings().removeClass("actived")):"http://localhost:3000/filter.html"===window.location.href&&($(".page3").addClass("actived"),$(".page3").siblings().removeClass("actived")))}),$(".description-item").click(function(){var currentLink=$(this);currentLink.addClass("actived"),currentLink.siblings().removeClass("actived")}),$(function(){var background=$(".business-background"),arrowImg=$(".arrow-select");background.css("height",$(".business-section").height()),arrowImg.css("height",$("#header-selectId").height())})});